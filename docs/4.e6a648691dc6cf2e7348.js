(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{NnOM:function(t,e,a){"use strict";a.r(e),a.d(e,"MapasModule",function(){return L});var n=a("ofXK"),o=a("tyNb"),r=a("4ZJM"),i=a("fXoL");let c=(()=>{class t{constructor(){}ngOnInit(){new r.Map({container:"mapa",style:"mapbox://styles/mapbox/streets-v11",center:[-75.26451170996079,2.910477317913005],zoom:18})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.wb({type:t,selectors:[["app-full-screen"]],decls:1,vars:0,consts:[["id","mapa"]],template:function(t,e){1&t&&i.Db(0,"div",0)},styles:["#mapa[_ngcontent-%COMP%] {\n      height: 100%;\n      width: 100%; \n    }"]}),t})();const s=["mapa"];let l=(()=>{class t{constructor(){this.zoomLevel=10,this.center=[-75.26451170996079,2.910477317913005]}ngOnDestroy(){this.mapa.off("zoom",()=>{}),this.mapa.off("zoomend",()=>{}),this.mapa.off("move",()=>{})}ngAfterViewInit(){this.mapa=new r.Map({container:this.divMapa.nativeElement,style:"mapbox://styles/mapbox/streets-v11",center:this.center,zoom:this.zoomLevel}),this.mapa.on("zoom",t=>{this.zoomLevel=this.mapa.getZoom()}),this.mapa.on("zoomend",t=>{this.mapa.getZoom()>18&&this.mapa.zoomTo(18)}),this.mapa.on("move",t=>{const e=t.target,{lng:a,lat:n}=e.getCenter();this.center=[a,n]})}zoomOut(){this.mapa.zoomOut()}zoomIn(){this.mapa.zoomIn()}zoomCambio(t){this.mapa.zoomTo(Number(t))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.wb({type:t,selectors:[["app-zoom-range"]],viewQuery:function(t,e){if(1&t&&i.bc(s,!0),2&t){let t;i.Sb(t=i.Mb())&&(e.divMapa=t.first)}},decls:16,vars:13,consts:[[1,"mapa-container"],["mapa",""],[1,"row"],[1,"col-12"],[1,"form-label"],["type","range","min","0","max","18",1,"form-range",3,"value","input"],["zoomInput",""],[1,"btn","btn-primary",3,"click"],[1,"btn","btn-primary","float-end",3,"click"]],template:function(t,e){if(1&t){const t=i.Gb();i.Db(0,"div",0,1),i.Fb(2,"div",2),i.Fb(3,"div",3),i.Fb(4,"label",4),i.Yb(5),i.Ob(6,"number"),i.Ob(7,"number"),i.Ob(8,"number"),i.Eb(),i.Fb(9,"input",5,6),i.Lb("input",function(){i.Ub(t);const a=i.Tb(10);return e.zoomCambio(a.value)}),i.Eb(),i.Eb(),i.Fb(11,"div",3),i.Fb(12,"button",7),i.Lb("click",function(){return e.zoomOut()}),i.Yb(13," - "),i.Eb(),i.Fb(14,"button",8),i.Lb("click",function(){return e.zoomIn()}),i.Yb(15," + "),i.Eb(),i.Eb(),i.Eb()}2&t&&(i.tb(5),i.ac(" Zoom: ",i.Pb(6,4,e.zoomLevel,"2.0-2")," - Lng,Lat: [ ",i.Pb(7,7,e.center[0],"2.4-4"),", ",i.Pb(8,10,e.center[1],"2.4-4")," ] "),i.tb(4),i.Qb("value",e.zoomLevel))},pipes:[n.d],styles:[".mapa-container[_ngcontent-%COMP%] {\n      height: 100%;\n      width: 100%; \n    }\n\n    .row[_ngcontent-%COMP%] {\n      background-color: white;\n      border-radius: 5px;\n      bottom: 50px;\n      left: 50px;\n      padding: 10px;\n      position: fixed;\n      z-index: 999;\n      width: 400px;\n    }"]}),t})();const p=["mapa"],b=function(t){return{"background-color":t}};function m(t,e){if(1&t){const t=i.Gb();i.Fb(0,"li",5),i.Lb("click",function(){i.Ub(t);const a=e.$implicit;return i.Nb().irMarcador(a.marker)})("dblclick",function(){i.Ub(t);const a=e.index;return i.Nb().borrarMarcador(a)}),i.Yb(1),i.Eb()}if(2&t){const t=e.index;i.Qb("ngStyle",i.Rb(2,b,e.$implicit.color)),i.tb(1),i.Zb(" marker ",t+1," ")}}let d=(()=>{class t{constructor(){this.zoomLevel=15,this.center=[-75.26451170996079,2.910477317913005],this.marcadores=[]}ngAfterViewInit(){this.mapa=new r.Map({container:this.divMapa.nativeElement,style:"mapbox://styles/mapbox/streets-v11",center:this.center,zoom:this.zoomLevel}),this.leerLocalStorage()}agregarMarcador(){const t="#xxxxxx".replace(/x/g,t=>(16*Math.random()|0).toString(16)),e=new r.Marker({draggable:!0,color:t}).setLngLat(this.center).addTo(this.mapa);this.marcadores.push({color:t,marker:e}),this.guardarMarcadoresLocalStorage(),e.on("dragend",()=>{this.guardarMarcadoresLocalStorage()})}irMarcador(t){this.mapa.flyTo({center:t.getLngLat()})}guardarMarcadoresLocalStorage(){const t=[];this.marcadores.forEach(e=>{const a=e.color,{lng:n,lat:o}=e.marker.getLngLat();t.push({color:a,centro:[n,o]})}),localStorage.setItem("marcadores",JSON.stringify(t))}leerLocalStorage(){localStorage.getItem("marcadores")&&JSON.parse(localStorage.getItem("marcadores")).forEach(t=>{const e=new r.Marker({color:t.color,draggable:!0}).setLngLat(t.centro).addTo(this.mapa);this.marcadores.push({marker:e,color:t.color}),e.on("dragend",()=>{this.guardarMarcadoresLocalStorage()})})}borrarMarcador(t){var e;null===(e=this.marcadores[t].marker)||void 0===e||e.remove(),this.marcadores.splice(t,1),this.guardarMarcadoresLocalStorage()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.wb({type:t,selectors:[["app-marcadores"]],viewQuery:function(t,e){if(1&t&&i.bc(p,!0),2&t){let t;i.Sb(t=i.Mb())&&(e.divMapa=t.first)}},decls:6,vars:1,consts:[[1,"list-group"],[1,"list-group-item","list-group-item-info",3,"click"],["class","list-group-item",3,"ngStyle","click","dblclick",4,"ngFor","ngForOf"],[1,"mapa-container"],["mapa",""],[1,"list-group-item",3,"ngStyle","click","dblclick"]],template:function(t,e){1&t&&(i.Fb(0,"ul",0),i.Fb(1,"li",1),i.Lb("click",function(){return e.agregarMarcador()}),i.Yb(2," + Agregar "),i.Eb(),i.Xb(3,m,2,4,"li",2),i.Eb(),i.Db(4,"div",3,4)),2&t&&(i.tb(3),i.Qb("ngForOf",e.marcadores))},directives:[n.i,n.j],styles:[".mapa-container[_ngcontent-%COMP%] {\n      height: 100%;\n      width: 100%; \n    }\n\n    .list-group[_ngcontent-%COMP%] {\n      position: fixed;\n      top: 20px;\n      right: 20px;\n      z-index: 99;\n    }\n    li[_ngcontent-%COMP%] {\n      cursor: pointer;\n    }"]}),t})();const u=["mapa"];let g=(()=>{class t{constructor(){this.lngLat=[0,0]}ngAfterViewInit(){const t=new r.Map({container:this.divMapa.nativeElement,style:"mapbox://styles/mapbox/streets-v11",center:this.lngLat,zoom:15,interactive:!1});(new r.Marker).setLngLat(this.lngLat).addTo(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.wb({type:t,selectors:[["app-mini-mapa"]],viewQuery:function(t,e){if(1&t&&i.bc(u,!0),2&t){let t;i.Sb(t=i.Mb())&&(e.divMapa=t.first)}},inputs:{lngLat:"lngLat"},decls:2,vars:0,consts:[["mapa",""]],template:function(t,e){1&t&&i.Db(0,"div",null,0)},styles:["div[_ngcontent-%COMP%] {\n        width: 100%;\n        height: 150px;\n        margin: 0px;\n      }"]}),t})();function h(t,e){if(1&t&&(i.Fb(0,"div",6),i.Fb(1,"div",7),i.Db(2,"app-mini-mapa",8),i.Fb(3,"div",9),i.Fb(4,"h5",10),i.Yb(5),i.Eb(),i.Fb(6,"p",11),i.Yb(7),i.Eb(),i.Eb(),i.Eb(),i.Eb()),2&t){const t=e.$implicit;i.tb(2),i.Qb("lngLat",t.lngLat),i.tb(3),i.Zb(" ",t.titulo," "),i.tb(2),i.Zb(" ",t.descripcion," ")}}const f=[{path:"",children:[{path:"fullscreen",component:c},{path:"zoom-range",component:l},{path:"marcadores",component:d},{path:"propiedades",component:(()=>{class t{constructor(){this.propiedades=[{titulo:"Casa residencial, Canad\xe1",descripcion:"Bella propiedad en Katana, Canad\xe1",lngLat:[-75.92722289474008,45.280015511264466]},{titulo:"Casa de playa, M\xe9xico",descripcion:"Hermosa casa de playa en Acapulco, M\xe9xico",lngLat:[-99.91287720907991,16.828940930185748]},{titulo:"Apartamento, Argentina",descripcion:"Lujoso apartamento en el coraz\xf3n de Buenos Aires, Argentina",lngLat:[-58.430166677283445,-34.57150108832866]},{titulo:"Local comercial, Espa\xf1a",descripcion:"Local comercial disponible en Madrid, Espa\xf1a, cerca de El Jard\xedn Secreto.",lngLat:[-3.7112735618380177,40.42567285425766]}]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.wb({type:t,selectors:[["app-propiedades"]],decls:11,vars:1,consts:[[1,"row","mt-3"],[1,"col-2"],[1,"col"],[1,"row","container"],[1,"row"],["class","col-4 mb-2",4,"ngFor","ngForOf"],[1,"col-4","mb-2"],[1,"card"],[1,"card-img-top",3,"lngLat"],[1,"card-body"],[1,"card-title"],[1,"card-text"]],template:function(t,e){1&t&&(i.Fb(0,"div",0),i.Db(1,"div",1),i.Fb(2,"div",2),i.Fb(3,"h1"),i.Yb(4,"Lista de propiedades"),i.Eb(),i.Db(5,"hr"),i.Eb(),i.Eb(),i.Fb(6,"div",3),i.Db(7,"div",1),i.Fb(8,"div",2),i.Fb(9,"div",4),i.Xb(10,h,8,3,"div",5),i.Eb(),i.Eb(),i.Eb()),2&t&&(i.tb(10),i.Qb("ngForOf",e.propiedades))},directives:[n.i,g],encapsulation:2}),t})()},{path:"**",redirectTo:"fullscreen"}]}];let v=(()=>{class t{}return t.\u0275mod=i.Ab({type:t}),t.\u0275inj=i.zb({factory:function(e){return new(e||t)},imports:[[o.c.forChild(f)],o.c]}),t})(),L=(()=>{class t{}return t.\u0275mod=i.Ab({type:t}),t.\u0275inj=i.zb({factory:function(e){return new(e||t)},imports:[[n.b,v]]}),t})()}}]);